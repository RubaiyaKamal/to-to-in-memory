import uuid\nfrom typing import Optional, List\nfrom todo.models.task import Task\nfrom todo.storage.task_repository import TaskRepository\n\nclass TaskService:\n    def __init__(self, repository: TaskRepository):\n        self._repository = repository\n\n    def add_task(self, title: str, description: Optional[str] = None) -> Task:\n        if not title:\n            raise ValueError("Task title cannot be empty")\n        new_task = Task(id=str(uuid.uuid4()), title=title, description=description, status="incomplete")\n        self._repository.add(new_task)\n        return new_task\n\n    def get_all_tasks(self) -> List[Task]:\n        return self._repository.get_all()\n
