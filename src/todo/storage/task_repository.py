from typing import Dict, List, Optional\nfrom todo.models.task import Task\n\nclass TaskRepository:\n    def __init__(self):\n        self._tasks: Dict[str, Task] = {}\n\n    def add(self, task: Task) -> None:\n        if not task.id:\n            raise ValueError("Task ID cannot be empty.")\n        self._tasks[task.id] = task\n\n    def get_by_id(self, task_id: str) -> Optional[Task]:\n        return self._tasks.get(task_id)\n\n    def get_all(self) -> List[Task]:\n        return list(self._tasks.values())\n\n    def update(self, task: Task) -> bool:\n        if task.id in self._tasks:\n            self._tasks[task.id] = task\n            return True\n        return False\n\n    def delete(self, task_id: str) -> bool:\n        if task_id in self._tasks:\n            del self._tasks[task_id]\n            return True\n        return False\n
