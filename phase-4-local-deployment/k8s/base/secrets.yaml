# Kubernetes Secret for Todo Chatbot Application
# Task 2.2: Create Kubernetes Secrets
# Reference: specs/003-local-k8s-deployment/tasks.md
#
# IMPORTANT: This is a TEMPLATE file with placeholder values.
# DO NOT commit real secrets to version control!
#
# To use this secret:
# 1. Copy secrets.env.example to secrets.env (gitignored)
# 2. Edit secrets.env with your actual values
# 3. Create secret from env file:
#    kubectl create secret generic todo-chatbot-secret \
#      --from-env-file=secrets.env \
#      --namespace=todo-chatbot \
#      --dry-run=client -o yaml > secrets.yaml
#
# OR use stringData (Kubernetes will auto-encode to base64):
#    Edit the stringData section below with your actual values

apiVersion: v1
kind: Secret
metadata:
  name: todo-chatbot-secret
  namespace: todo-chatbot
  labels:
    app: todo-chatbot
    managed-by: kustomize
  annotations:
    description: "Sensitive configuration for Todo Chatbot"
type: Opaque

# Option 1: Use stringData (Kubernetes auto-encodes to base64)
stringData:
  # OpenAI API Key - Get from: https://platform.openai.com/api-keys
  # Required for AI chat functionality
  OPENAI_API_KEY: "REPLACE_WITH_YOUR_OPENAI_API_KEY"

  # Better Auth Secret - Generate with: openssl rand -hex 32
  # Must be minimum 32 characters for JWT signing
  # Required for user authentication
  BETTER_AUTH_SECRET: "REPLACE_WITH_YOUR_SECRET_MIN_32_CHARS"

# Option 2: Use base64-encoded data (if you prefer manual encoding)
# Uncomment and replace stringData section above with this:
# data:
#   # Base64 encoded values (use: echo -n "value" | base64)
#   OPENAI_API_KEY: UkVQTEFDRV9XSVRIX1lPVVJfT1BFTkFJX0FQSV9LRVk=
#   BETTER_AUTH_SECRET: UkVQTEFDRV9XSVRIX1lPVVJfU0VDUkVUX01JTl8zMl9DSEFSUw==
